# Win-Guitars
A musical instruments e-commerce app, created with React and Firebase.

## Table of contents
* [Introduction](#introduction)
* [Technologies](#technologies)
* [Setup](#setup)
* [Contact](#contact)

## Introduction
This project, `Win-Guitars` is a simple musical instruments e-commerce application, 
for now it is only dedicated as an example to the sale of basses and guitars,
but other instruments could be added in the future as well. 
This is my first work uploaded to GitHub.

## Technologies
Project is created with:
* React version: 17.0.2
* Firebase - Firestore Database
* NPM (Node Package Modules) version: 8.1.2
* CSS for the stylesheet

## Setup
First step to run this app is to install npm in your local computer:
(download and install Node.js first)

```
$ cd ../win-guitars (or whatever you name your root folder)
$ npx create-react-app app-name
$ npm start
```

### Firebase install and enviroment-variables
To make this project work you also have to install firebase in your app local folder:

```
$ cd ../win-guitars (or whatever you name your root folder)
$ npm install firebase
```
(example using GIT-BASH console)

#### Enviroment variables
You have to configure the enviroment variables that firebase provides you
in ../win-guitars/src/services/Firebase/firebase.js or wherever you have 
that file in your project route:
* apiKey
* authDomain
* projectId
* storageBucket
* messagingSenderId
* appId
* measurementId

#### Firebase database and product format
Now, being in firestore firebase database youÂ´ll need three collections:
**_categories_**, named after the products you sell, in the example the documents
inside this collection are **_bass_** and **_guitar_**. These categories will render
in the NavBar component, where it lays the firebase call.
The following collection is **_products_**, where you can add as documents the products
you want to sell. In the example of this app there are three basses and three guitars.
The product format will require six key-value pairs: category: (bass or guitar), details: x,
image: (url link), price: (number), stock: (number) and title: (name of the product).
The third and last collection is **_orders_**. There will lay the buy orders from the clients.
You don't necessarily have to create it, as it will create itself when someone confirm an order
in the cart.

### React routes and fundamental components
This application uses React Router (react-router-dom) for the navigability sake, avoiding the page to refresh everytime it changes its route.

#### NavBar
Here are displayed the two categories of the products (Bajos y Guitarras, spanish for basses and guitars). NavBar is viewable across all the application, being outside the app routes. Inside this component lays a firebase call, who brings and render the product categories in the NavBar. Once clicked, the titles will filter these products by categories. This is done using **useParam** React hook who takes the /category/:category param. 

#### ItemListContainer and ItemDetailsContainer
ItemListContainer routes: ``/`` (it is displayed in the home page) and ``/category/:category``, filtering products.
ItemDetailContainer route: ``/detail/:productId`` (filtering by using product id with useParam hook).
In this components the products are displayed. ItemDetailContainer products give the user the chance to view the product details as its name say, and to add the desired quantity of the product to the cart. They are stored in a state "cart", which is made by using useState** * ** and useContext (with the purpose of making a "global state") React hooks.

#### Cart, CartWidget and ContactForm
Cart route: ``/cart``
The cart component will display the added products if there is at least one, with the per unity prices and total amount to pay. Otherwise it will display a message and a link to take you back to the catalogue of products (ItemListContainer). Inside the cart you`ll also have the option to confirm the order, which will be stored in a state and in its same name Firebase collection, with the data of the products, the total amount to pay and the purchaser information. Before confirming the order it is required for the client to submit his contact information in a form, the cart interface then rendering the order id (auto generated by Firebase).
CartWidget: this component receives the cart item quantity and displays it in the NavBar. When the cart has no products added, CartWidget will dissapear.
ContactForm: this is the above mentioned form. It is built with a toggable functionality, made with useImperativeHandle and useRef React hooks. The information that the purchaser completes here will lay in the order state as well.

#### CartContext
Using React context, this file includes varied functions: check if an item is already in cart, add the item to the cart if there is no one or update its quantity, remove item by id, clear the cart, and calculate total amount to pay and quantity of products inside. Also it will include the cart state. Using context provider that will wrap all the app components, these functions and state are global to its children.
Custom hook: as this application has no user authentication features included I changed the way to build cart state. Instead of using useState I included useLocalStorage, a custom hook that takes useState but adds the usage of localStorage. This way, state could persist when refreshing the page. 

## Contact

If you want to contact me, you can email me to caballerosasha@hotmail.com, or add me in Facebook as Sasha Rodriguez Carlomagno.

